# Extreme-Aware Trading Strategy - Project Structure

```
extreme-aware-strategy/
â”‚
â”œâ”€â”€ ğŸ“ src/                          # Source code
â”‚   â”œâ”€â”€ main.py                      # Main algorithm entry point
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ components/               # Trading system components
â”‚       â”œâ”€â”€ __init__.py              # Package initialization
â”‚       â”œâ”€â”€ universe_filter.py       # Stock universe selection
â”‚       â”œâ”€â”€ extreme_detector.py      # Z-score + volume anomaly detection
â”‚       â”œâ”€â”€ hmm_regime.py           # HMM regime classifier
â”‚       â”œâ”€â”€ avwap_tracker.py        # Anchored VWAP tracking
â”‚       â””â”€â”€ risk_monitor.py         # Risk management & monitoring
â”‚
â”œâ”€â”€ ğŸ“ config/                       # Configuration
â”‚   â””â”€â”€ config.py                    # All parameters and thresholds
â”‚
â”œâ”€â”€ ğŸ“ docs/                         # Documentation
â”‚   â”œâ”€â”€ START_HERE.md               # ğŸ‘ˆ START HERE! Quick overview
â”‚   â”œâ”€â”€ DEPLOYMENT.md               # QuantConnect deployment guide
â”‚   â”œâ”€â”€ ARCHITECTURE.md             # System architecture & design
â”‚   â”œâ”€â”€ CHECKLIST.md                # Weekly progress tracking
â”‚   â””â”€â”€ README.md                   # General usage guide
â”‚
â”œâ”€â”€ ğŸ“ tests/                        # Unit tests (future)
â”‚   â””â”€â”€ test_extreme_detector.py    # Example test file
â”‚
â”œâ”€â”€ ğŸ“ backtest_results/            # Backtest outputs
â”‚   â””â”€â”€ .gitkeep                    # Keep folder in git
â”‚
â”œâ”€â”€ ğŸ“ logs/                         # Runtime logs
â”‚   â””â”€â”€ .gitkeep                    # Keep folder in git
â”‚
â”œâ”€â”€ ğŸ“ quantconnect/                # Flattened for QC upload
â”‚   â””â”€â”€ (generated by deploy script)
â”‚
â”œâ”€â”€ PROJECT_STRUCTURE.md            # This file
â”œâ”€â”€ README.md                       # Root readme
â””â”€â”€ deploy_to_qc.sh                # Script to prepare for QuantConnect

```

---

## ğŸ“‹ File Descriptions

### Source Code (`src/`)

**main.py** (250 lines)
- Main QCAlgorithm class
- Orchestrates all components
- Event handlers (OnData, OnHourly, etc.)
- QuantConnect lifecycle management

**components/universe_filter.py** (90 lines)
- Coarse filtering: price, volume, liquidity
- Fine filtering: security type, exchange
- Maintains ~1,000 stock universe

**components/extreme_detector.py** (200 lines)
- 60-minute Z-score calculation
- Volume anomaly detection (hour-of-day baseline)
- Detection cooldown logic
- Historical tracking

**components/hmm_regime.py** (220 lines)
- Simplified VIX-based regime classification
- 3 states: Low-Vol, High-Vol, Trending
- Global Position Multiplier (GPM)
- Ready for full Gaussian HMM (Phase 2)

**components/avwap_tracker.py** (250 lines)
- Anchored VWAP from impulse bars
- Distance calculations
- Time and distance stops
- Multi-symbol tracking

**components/risk_monitor.py** (280 lines)
- Circuit breaker monitoring
- Daily/weekly summaries
- Trade logging
- Drawdown tracking
- Equity curve

### Configuration (`config/`)

**config.py** (110 lines)
- All detection thresholds
- Risk parameters
- Universe filters
- Time-of-day multipliers
- Blacklists
- Single source of truth for all settings

### Documentation (`docs/`)

**START_HERE.md** - Read this first!
- Quick overview
- What Phase 1 does
- 3-step quick start

**DEPLOYMENT.md** - Step-by-step guide
- QuantConnect account setup
- IBKR connection
- File upload order
- Troubleshooting

**ARCHITECTURE.md** - Technical design
- Component diagrams
- Data flow
- Module dependencies
- Performance notes

**CHECKLIST.md** - Progress tracking
- Weekly validation tasks
- Success criteria
- Notes section

**README.md** - Full usage guide
- Features
- Configuration
- Log interpretation
- Transition to live

---

## ğŸš€ Development Workflow

### 1. Local Development
```bash
cd extreme-aware-strategy/src
# Edit files in organized structure
# Test locally if desired
```

### 2. Prepare for QuantConnect
```bash
# Run the deployment script
./deploy_to_qc.sh

# This flattens all files to quantconnect/ folder
# Ready for upload to QuantConnect
```

### 3. Upload to QuantConnect
```
Files to upload (in order):
1. config.py
2. universe_filter.py
3. extreme_detector.py
4. hmm_regime.py
5. avwap_tracker.py
6. risk_monitor.py
7. main.py (LAST!)
```

---

## ğŸ“¦ Why This Structure?

### Benefits:
âœ… **Organized** - Clear separation of concerns
âœ… **Scalable** - Easy to add new components
âœ… **Documented** - Everything is explained
âœ… **Testable** - Structure ready for unit tests
âœ… **Version Control** - Easy to track changes
âœ… **QC Compatible** - Deploy script flattens for upload

### QuantConnect Note:
QuantConnect doesn't use folder structures - all files must be in the root of your project. That's why we provide a deploy script that flattens the structure for upload.

---

## ğŸ”„ Import Structure

### During Development (organized):
```python
# Files are in folders
from components.universe_filter import UniverseFilter
from components.extreme_detector import ExtremeDetector
# etc.
```

### For QuantConnect (flat):
```python
# All files in root
from universe_filter import UniverseFilter
from extreme_detector import ExtremeDetector
# etc.
```

Our code uses the **flat imports** so it works directly in QuantConnect when all files are uploaded to the root.

---

## ğŸ“ Adding New Components

### Step 1: Create the file
```bash
# Add new component
touch src/components/new_component.py
```

### Step 2: Update __init__.py
```python
from .new_component import NewComponent
__all__ = [..., 'NewComponent']
```

### Step 3: Import in main.py
```python
from new_component import NewComponent
```

### Step 4: Deploy
```bash
./deploy_to_qc.sh
# Upload to QuantConnect
```

---

## ğŸ¯ Next Steps

1. **Read** docs/START_HERE.md
2. **Review** docs/DEPLOYMENT.md
3. **Prepare** for QuantConnect upload
4. **Deploy** to paper trading
5. **Monitor** for 4 weeks
6. **Track** progress in docs/CHECKLIST.md

---

## ğŸ“ Quick Reference

- **Main Algorithm:** `src/main.py`
- **Configuration:** `config/config.py`
- **Getting Started:** `docs/START_HERE.md`
- **Deploy Guide:** `docs/DEPLOYMENT.md`
- **Architecture:** `docs/ARCHITECTURE.md`

---

*Last Updated: November 6, 2024*
*Phase 1 Implementation*
